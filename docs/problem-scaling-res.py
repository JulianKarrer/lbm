import math
from matplotlib import pyplot as plt

# MI300A results
sizes=[1024000000, 511981129, 341325625, 256000000, 204776100, 170641969, 146264836, 127983969, 113763556, 102394161,100000000, 49999041, 33327529, 25000000, 19998784, 16662724, 14280841, 12496225, 11108889, 9998244]
mlups = [(15157.120550282369, 16.386869004205316, 15175.639361349602, 15134.96494283784), (14988.546399693334, 244.23728756153943, 15134.36884718211, 14553.325318845726), (14762.501402506145, 85.71733917241039, 14834.432692478613, 14618.839751971032), (15487.241786065115, 200.32378963400993, 15676.61772289239, 15161.90439422858), (14646.369181187241, 135.30453878317772, 14765.935093787437, 14455.1271124778), (14741.287082322833, 71.08096441129759, 14794.709885485308, 14629.8662332193), (15206.717758409597, 124.96936977719838, 15302.727390170867, 14996.184168395022), (15552.336518248707, 150.21415343379877, 15655.199792312656, 15287.617589002199), (13911.801000242785, 37.41327546905981, 13949.163025739519, 13862.341373120596), (14341.893439463674, 77.2927946708125, 14419.040968609925, 14218.473180248217),(14594.1986463608, 73.20650488598396, 14663.198988243961, 14473.995974686191), (14032.517611865236, 179.89539276540418, 14157.46729831324, 13716.078123429394), (13442.090812156264, 175.9262396328936, 13595.198001164363, 13224.20010602127), (13362.107239213961, 368.5196922006004, 13565.167103460526, 12709.171225692096), (12861.823544799543, 241.9550172345742, 13070.20496013721, 12455.510570712813), (12439.344889922644, 154.58240114743003, 12596.239932507891, 12230.136715713437), (11857.21081757008, 330.6765398086439, 12085.335349829375, 11278.807501570134), (11699.321599562862, 255.76865812905356, 11846.261950244301, 11246.685005681202), (11328.395788120137, 125.53665276140235, 11487.074507901281, 11135.591033739805), (10896.719885294693, 183.45787706388572, 11024.361347472663, 10593.140131236882)]


plt.errorbar([math.sqrt(s) for s in sizes], [m[0] for m in mlups],  [m[1] for m in mlups])
plt.xlabel("Side length in nodes of square domain")
plt.ylabel("MLUPS")
plt.title("MI300A problem scaling")
plt.show()